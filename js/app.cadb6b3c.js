(function(t){function e(e){for(var r,c,o=e[0],i=e[1],l=e[2],u=0,d=[];u<o.length;u++)c=o[u],n[c]&&d.push(n[c][0]),n[c]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r]);h&&h(e);while(d.length)d.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],r=!0,o=1;o<a.length;o++){var i=a[o];0!==n[i]&&(r=!1)}r&&(s.splice(e--,1),t=c(c.s=a[0]))}return t}var r={},n={app:0},s=[];function c(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=t,c.c=r,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)c.d(a,r,function(e){return t[e]}.bind(null,r));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],i=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var h=i;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var r=a("1356"),n=a.n(r);n.a},1356:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var r=a("2b0e"),n=a("bb71");a("da64");r["a"].use(n["a"],{iconfont:"md"});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-container",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{sm2:""}},[a("v-btn",{on:{click:t.onClick}},[t._v("Upload CSV")]),a("input",{attrs:{id:"hideInput",type:"file"},on:{change:function(e){return t.loadFile(e.target.files)}}})],1),t.chooseChart?a("ChartType"):t._e(),t.loadChart?a("SelectMenu",{model:{value:t.selectedHeader[0],callback:function(e){t.$set(t.selectedHeader,0,e)},expression:"selectedHeader[0]"}}):t._e(),t.loadChart&&"pie"!=t.chartType?a("SelectMenu",{model:{value:t.selectedHeader[1],callback:function(e){t.$set(t.selectedHeader,1,e)},expression:"selectedHeader[1]"}}):t._e()],1),t.chartData?a(t.chartComp,{key:t.selectedHeader[1],tag:"component"}):t._e(),a("v-flex",{attrs:{sm2:""}},[t.chartData?a("v-btn",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}},[t._v("View Data")]):t._e()],1),a("v-flex",{attrs:{sm2:""}},[t.chartData?a("v-btn",{on:{click:function(e){e.stopPropagation(),t.chartDrawer=!t.chartDrawer}}},[t._v("View Chart JSON")]):t._e()],1)],1),a("v-navigation-drawer",{attrs:{absolute:"",temporary:"",right:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("vue-json-pretty",{attrs:{data:t.chartData,deep:4}})],1),a("v-navigation-drawer",{attrs:{absolute:"",temporary:"",right:""},model:{value:t.chartDrawer,callback:function(e){t.chartDrawer=e},expression:"chartDrawer"}},[a("vue-json-pretty",{attrs:{data:t.chartOptions,deep:4}})],1)],1)},c=[],o=a("cebc"),i=a("2f62"),l=a("d538"),h=a.n(l),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-flex",{attrs:{sm4:""}},[a("v-select",{attrs:{items:t.chartTypes,label:"Select Chart Type",solo:""},model:{value:t.selectedChart,callback:function(e){t.selectedChart=e},expression:"selectedChart"}})],1)},d=[],p={name:"ChartType",data:function(){return{chartTypes:["column","pie","line"],selectedChart:null}},computed:Object(o["a"])({},Object(i["b"])(["addChartType","parseData"]),Object(i["c"])(["selectedHeader","csvData"])),watch:{selectedChart:function(t){this.$store.dispatch("addChartType",t),this.selectedHeader&&this.$store.dispatch("parseData",{val:this.selectedHeader,type:t,data:this.csvData})}}},f=p,v=a("2877"),m=a("6544"),y=a.n(m),b=a("0e8f"),C=a("b56d"),g=Object(v["a"])(f,u,d,!1,null,null,null),O=g.exports;y()(g,{VFlex:b["a"],VSelect:C["a"]});var D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.selectedHeader[1]?a("v-checkbox",{attrs:{label:"Stacked = "+t.stacked.toString()},model:{value:t.stacked,callback:function(e){t.stacked=e},expression:"stacked"}}):t._e(),a("v-layout",{attrs:{row:""}},[a("v-flex",[a("highcharts",{ref:"highcharts",attrs:{options:t.chartOptions()}})],1)],1)],1)},w=[],k=(a("5698"),{name:"BarChart",data:function(){return{chartReady:!1,stacked:!1}},computed:Object(o["a"])({},Object(i["c"])(["chartType","chartData","chartCategories","selectedHeader"]),Object(i["b"])(["addChartOptions"])),methods:{chartOptions:function(){return{chart:{type:this.chartType},title:{text:"Bar Chart"},xAxis:{categories:this.chartCategories},plotOptions:{column:{stacking:this.stacked,dataLabels:{enabled:!0,color:"white"}}},series:this.chartData}}},watch:{chartData:function(){console.log(this.chartOptions()),this.$store.dispatch("addChartOptions",this.chartOptions())},stacked:function(t){this.stacked=t?"normal":""}},mounted:function(){this.$store.dispatch("addChartOptions",this.chartOptions())}}),x=k,T=a("ac7c"),j=a("a722"),_=Object(v["a"])(x,D,w,!1,null,null,null),H=_.exports;y()(_,{VCheckbox:T["a"],VFlex:b["a"],VLayout:j["a"]});var S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{row:""}},[a("v-flex",[a("highcharts",{ref:"highcharts",attrs:{options:t.chartOptions()}})],1)],1)},V=[],$=(a("5698"),{name:"PieChart",data:function(){return{chartReady:!1}},computed:Object(o["a"])({},Object(i["c"])(["chartType","chartData","headers","selectedHeader"]),Object(i["b"])(["addChartOptions"])),methods:{chartOptions:function(){return{chart:{type:this.chartType},title:{text:"Pie Chart"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %"}}},series:[{data:this.chartData}]}}},watch:{},mounted:function(){console.log(this.chartOptions()),this.$store.dispatch("addChartOptions",this.chartOptions())}}),P=$,L=Object(v["a"])(P,S,V,!1,null,null,null),F=L.exports;y()(L,{VFlex:b["a"],VLayout:j["a"]});var A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-flex",{attrs:{sm4:""}},[t.headers?a("v-select",{attrs:{items:t.headers,label:"Select Header",solo:""},on:{change:t.updateValue}}):t._e()],1)},R=[],E={name:"SelectMenu",props:["value"],data:function(){return{selectedHeader:null,selectedValues:null,chartData:null,chartReady:!1}},methods:{updateValue:function(t){console.log(t),this.$emit("input",t)}},computed:Object(o["a"])({},Object(i["b"])(["addChartData","addHeader","parseData"]),Object(i["c"])(["headers","csvData","chartType"]))},M=E,B=Object(v["a"])(M,A,R,!1,null,null,null),J=B.exports;y()(B,{VFlex:b["a"],VSelect:C["a"]});var N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",{attrs:{row:""}},[a("v-flex",[t.chartData[0].date?a("highcharts",{ref:"lineChart",attrs:{options:t.chartOptions(),"constructor-type":"stockChart"}}):a("highcharts",{ref:"lineChart",attrs:{options:t.chartOptions()}})],1)],1)],1)},I=[],U=(a("5698"),{name:"LineChart",data:function(){return{chartReady:!1}},computed:Object(o["a"])({},Object(i["c"])(["chartType","chartData","chartCategories","selectedHeader","csvData"]),Object(i["b"])(["addChartOptions"])),methods:{chartOptions:function(){return{chart:{type:this.chartType},title:{text:"Line Chart"},xAxis:{categories:this.chartCategories},plotOptions:{column:{stacking:this.stacked,dataLabels:{enabled:!0,color:"white"}}},series:this.chartData}}},watch:{chartData:function(){console.log(this.chartOptions()),this.$store.dispatch("addChartOptions",this.chartOptions())}},mounted:function(){this.$store.dispatch("addChartOptions",this.chartOptions())}}),q=U,z=Object(v["a"])(q,N,I,!1,null,null,null),G=z.exports;y()(z,{VFlex:b["a"],VLayout:j["a"]});var K={name:"App",components:{BarChart:H,PieChart:F,ChartType:O,SelectMenu:J,LineChart:G,VueJsonPretty:h.a},data:function(){return{drawer:!1,chartDrawer:!1,loadChart:!1,chartComp:null,chooseChart:!1,selectedHeader:[]}},methods:{loadFile:function(t){this.$store.dispatch("loadCsv",t),this.chooseChart=!0},onClick:function(){document.getElementById("hideInput").click()},getChartType:function(){"column"===this.chartType?this.chartComp="BarChart":"pie"===this.chartType?this.chartComp="PieChart":"line"===this.chartType&&(this.chartComp="LineChart"),this.loadChart=!0}},computed:Object(o["a"])({},Object(i["b"])(["loadCsv","addHeader","parseData"]),Object(i["c"])(["chartData","chartOptions","chartType","csvData"])),watch:{chartType:function(){this.getChartType()},selectedHeader:function(t){console.log("FALSE",t),this.$store.dispatch("addHeader",t),this.$store.dispatch("parseData",{val:t,type:this.chartType,data:this.csvData})}}},Q=K,W=(a("034f"),a("7496")),X=a("8336"),Y=a("a523"),Z=a("f774"),tt=Object(v["a"])(Q,s,c,!1,null,null,null),et=tt.exports;y()(tt,{VApp:W["a"],VBtn:X["a"],VContainer:Y["a"],VFlex:b["a"],VLayout:j["a"],VNavigationDrawer:Z["a"]});a("55dd"),a("c5f6"),a("ac6a"),a("28a5");var at=a("5a0c"),rt=a.n(at),nt=a("5698");r["a"].use(i["a"]);var st=new i["a"].Store({state:{csvData:null,headers:null,selectedHeader:null,chartOptions:{},chartData:null,chartType:null,chartCategories:null},getters:{getheaders:function(t){return t.headers}},mutations:{setCsvData:function(t,e){t.csvData=e},setHeaders:function(t,e){t.headers=e},setSelectedHeader:function(t,e){t.selectedHeader=e},setChartOptions:function(t,e){t.chartOptions=e},setChartData:function(t,e){t.chartData=e},setChartType:function(t,e){t.chartType=e},setChartCategories:function(t,e){t.chartCategories=e}},actions:{loadCsv:function(t,e){var a=this,r=new FileReader,n=e[0];r.onload=function(t){for(var e=t.target.result,r=e.split("\n"),n=[],s=r[0].split(","),c=1;c<r.length;c++){for(var o={},i=r[c].split(","),l=0;l<=s.length;l++)o[s[l]]=i[l];n.push(o)}var h=JSON.stringify(n);a.commit("setCsvData",JSON.parse(h)),a.commit("setHeaders",s)},r.readAsText(n)},parseData:function(t,e){e.val.length<=1&&"column"===this.chartType?this.dispatch("parseSingleData",e):e.val.length>=2&&rt()(e.data[0][e.val[1]]).$D?this.dispatch("parseDoubleDateData",e):e.val.length>=2&&this.dispatch("parseDoubleData",e)},parseSingleData:function(t,e){for(var a=nt.nest().key(function(t){return t[e.val[0]]}).rollup(function(t){return t.length}).entries(e.data),r=[],n=0;n<a.length;n++)"pie"===e.type?r.push({name:a[n].key,y:a[n].value}):r.push({name:a[n].key,data:[a[n].value]});this.chartReady=!0,this.commit("setChartData",r)},parseDoubleDateData:function(t,e){for(var a=nt.nest().key(function(t){return t[e.val[0]]}).key(function(t){return new Date(t[e.val[1]]).getTime()}).rollup(function(t){return t.length}).entries(e.data),r=[],n=0;n<a.length;n++){r.push({name:a[n].key,data:[],date:!0});for(var s=0;s<a[n].values.length;s++)r[n].data.push([Number(a[n].values[s].key),a[n].values[s].value])}for(var c=0;c<r.length;c++)r[c].data.sort(function(t,e){return t[0]-e[0]});console.log("ARR",r),this.commit("setChartData",r)},parseDoubleData:function(t,e){var a=nt.nest().key(function(t){return t[e.val[0]]}).key(function(t){return t[e.val[1]]}).rollup(function(t){return t.length}).entries(e.data);console.log("DATA",a);for(var r=[],n=[],s=0;s<a.length;s++){r.push({name:a[s].key,data:[]});for(var c=0;c<a[s].values.length;c++)0===s&&n.push(a[0].values[c].key),r[s].data.push(a[s].values[c].value)}this.chartReady=!0,this.commit("setChartData",r),this.commit("setChartCategories",n)},addHeader:function(t,e){this.commit("setSelectedHeader",e)},addChartOptions:function(t,e){this.commit("setChartOptions",e)},addChartType:function(t,e){this.commit("setChartType",e)}}}),ct=a("4452"),ot=a.n(ct),it=a("ea7f"),lt=a.n(it),ht=a("37d8"),ut=a.n(ht);ut()(lt.a),r["a"].config.productionTip=!1,r["a"].use(ot.a),new r["a"]({store:st,render:function(t){return t(et)}}).$mount("#app")}});
//# sourceMappingURL=app.cadb6b3c.js.map