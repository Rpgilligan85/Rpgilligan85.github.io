(function(t){function e(e){for(var r,c,o=e[0],l=e[1],i=e[2],u=0,d=[];u<o.length;u++)c=o[u],n[c]&&d.push(n[c][0]),n[c]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);h&&h(e);while(d.length)d.shift()();return s.push.apply(s,i||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],r=!0,o=1;o<a.length;o++){var l=a[o];0!==n[l]&&(r=!1)}r&&(s.splice(e--,1),t=c(c.s=a[0]))}return t}var r={},n={app:0},s=[];function c(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=t,c.c=r,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)c.d(a,r,function(e){return t[e]}.bind(null,r));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var i=0;i<o.length;i++)e(o[i]);var h=l;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var r=a("1356"),n=a.n(r);n.a},1356:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var r=a("2b0e"),n=a("bb71");a("da64");r["a"].use(n["a"],{iconfont:"md"});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-container",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{sm2:""}},[a("v-btn",{on:{click:t.onClick}},[t._v("Upload CSV")]),a("input",{attrs:{id:"hideInput",type:"file"},on:{change:function(e){return t.loadFile(e.target.files)}}})],1),t.chooseChart?a("ChartType"):t._e(),t.loadChart?a("SelectMenu",{model:{value:t.selectedHeader[0],callback:function(e){t.$set(t.selectedHeader,0,e)},expression:"selectedHeader[0]"}}):t._e(),t.loadChart?a("SelectMenu",{model:{value:t.selectedHeader[1],callback:function(e){t.$set(t.selectedHeader,1,e)},expression:"selectedHeader[1]"}}):t._e(),t.selectedHeader[1]?a("v-checkbox",{attrs:{label:"Stacked = "+t.stacked.toString()},model:{value:t.stacked,callback:function(e){t.stacked=e},expression:"stacked"}}):t._e()],1),t.chartData?a(t.chartComp,{key:t.selectedHeader[0],tag:"component",attrs:{stacked:t.toggleStack}}):t._e(),a("v-flex",{attrs:{sm2:""}},[t.chartData?a("v-btn",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}},[t._v("View Data")]):t._e()],1),a("v-flex",{attrs:{sm2:""}},[t.chartData?a("v-btn",{on:{click:function(e){e.stopPropagation(),t.chartDrawer=!t.chartDrawer}}},[t._v("View Chart JSON")]):t._e()],1)],1),a("v-navigation-drawer",{attrs:{absolute:"",temporary:"",right:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("vue-json-pretty",{attrs:{data:t.chartData,deep:2}})],1),a("v-navigation-drawer",{attrs:{absolute:"",temporary:"",right:""},model:{value:t.chartDrawer,callback:function(e){t.chartDrawer=e},expression:"chartDrawer"}},[a("vue-json-pretty",{attrs:{data:t.chartOptions,deep:2}})],1)],1)},c=[],o=a("cebc"),l=a("2f62"),i=a("d538"),h=a.n(i),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-flex",{attrs:{sm4:""}},[a("v-select",{attrs:{items:t.chartTypes,label:"Select Chart Type",solo:""},model:{value:t.selectedChart,callback:function(e){t.selectedChart=e},expression:"selectedChart"}})],1)},d=[],p={name:"ChartType",data:function(){return{chartTypes:["column","pie"],selectedChart:null}},computed:Object(o["a"])({},Object(l["b"])(["addChartType","parseData"]),Object(l["c"])(["selectedHeader","csvData"])),watch:{selectedChart:function(t){this.$store.dispatch("addChartType",t),this.selectedHeader&&this.$store.dispatch("parseData",{val:this.selectedHeader,type:t,data:this.csvData})}}},f=p,v=a("2877"),m=a("6544"),y=a.n(m),b=a("0e8f"),g=a("b56d"),C=Object(v["a"])(f,u,d,!1,null,null,null),O=C.exports;y()(C,{VFlex:b["a"],VSelect:g["a"]});var D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{row:""}},[a("v-flex",[a("highcharts",{ref:"highcharts",attrs:{options:t.chartOptions()}})],1)],1)},w=[],k=(a("5698"),{name:"BarChart",props:["stacked"],data:function(){return{chartReady:!1}},computed:Object(o["a"])({},Object(l["c"])(["chartType","chartData","chartCategories","selectedHeader"]),Object(l["b"])(["addChartOptions"])),methods:{chartOptions:function(){return{chart:{type:this.chartType},title:{text:this.selectedHeader[0]},xAxis:{categories:this.chartCategories},plotOptions:{column:{stacking:this.stacked,dataLabels:{enabled:!0,color:"white"}}},series:this.chartData}}},watch:{chartData:function(){console.log(this.chartOptions()),this.$store.dispatch("addChartOptions",this.chartOptions())}},mounted:function(){this.$store.dispatch("addChartOptions",this.chartOptions())}}),x=k,j=a("a722"),T=Object(v["a"])(x,D,w,!1,null,null,null),S=T.exports;y()(T,{VFlex:b["a"],VLayout:j["a"]});var H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{row:""}},[a("v-flex",[a("highcharts",{ref:"highcharts",attrs:{options:t.chartOptions()}})],1)],1)},_=[],V=(a("5698"),{name:"PieChart",data:function(){return{chartReady:!1}},computed:Object(o["a"])({},Object(l["c"])(["chartType","chartData","headers","selectedHeader"]),Object(l["b"])(["addChartOptions"])),methods:{chartOptions:function(){return{chart:{type:this.chartType},title:{text:this.selectedHeader},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %"}}},series:[{data:this.chartData}]}}},watch:{},mounted:function(){console.log(this.chartOptions),this.$store.dispatch("addChartOptions",this.chartOptions())}}),$=V,P=Object(v["a"])($,H,_,!1,null,null,null),M=P.exports;y()(P,{VFlex:b["a"],VLayout:j["a"]});var F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-flex",{attrs:{sm4:""}},[t.headers?a("v-select",{attrs:{items:t.headers,label:"Select Header",solo:""},on:{change:t.updateValue}}):t._e()],1)},A=[],J=(a("ac6a"),a("5df3"),a("4f7f"),a("75fc")),B=(a("55dd"),{name:"SelectMenu",props:["value"],data:function(){return{selectedHeader:null,selectedValues:null,chartData:null,chartReady:!1}},methods:{sortArr:function(t){t.sort(function(t,e){return e-t})},updateValue:function(t){console.log(t),this.$emit("input",t)},getKeys:function(t){if("Date"===t){for(var e=Object(J["a"])(new Set(this.csvData.map(function(e){return new Date(e[t]).getTime()}))).sort(),a=0;a<e.length;a++)e[a]=dayjs(e[a]).format("MM/DD/YYYY");this.selectedValues=e}else this.selectedValues=Object(J["a"])(new Set(this.csvData.map(function(e){return e[t]}))).sort()}},computed:Object(o["a"])({},Object(l["b"])(["addChartData","addHeader","parseData"]),Object(l["c"])(["headers","csvData","chartType"]))}),E=B,R=Object(v["a"])(E,F,A,!1,null,null,null),L=R.exports;y()(R,{VFlex:b["a"],VSelect:g["a"]});var N={name:"App",components:{BarChart:S,PieChart:M,ChartType:O,SelectMenu:L,VueJsonPretty:h.a},data:function(){return{drawer:!1,chartDrawer:!1,loadChart:!1,chartComp:null,chooseChart:!1,selectedHeader:[],stacked:!1,toggleStack:""}},methods:{loadFile:function(t){this.$store.dispatch("loadCsv",t),this.chooseChart=!0},onClick:function(){document.getElementById("hideInput").click()},getChartType:function(){"column"===this.chartType||"line"===this.chartType?(console.log("BarChart"),this.chartComp="BarChart"):"pie"===this.chartType&&(console.log("PieChart"),this.chartComp="PieChart"),this.loadChart=!0}},computed:Object(o["a"])({},Object(l["b"])(["loadCsv","addHeader","parseData"]),Object(l["c"])(["chartData","chartOptions","chartType","csvData"])),watch:{chartType:function(){this.getChartType()},selectedHeader:function(t){this.$store.dispatch("addHeader",t),this.$store.dispatch("parseData",{val:t,type:this.chartType,data:this.csvData})},stacked:function(t){this.toggleStack=t?"normal":""}}},Y=N,I=(a("034f"),a("7496")),K=a("8336"),U=a("ac7c"),q=a("a523"),z=a("f774"),G=Object(v["a"])(Y,s,c,!1,null,null,null),Q=G.exports;y()(G,{VApp:I["a"],VBtn:K["a"],VCheckbox:U["a"],VContainer:q["a"],VFlex:b["a"],VLayout:j["a"],VNavigationDrawer:z["a"]});a("28a5");var W=a("5698");r["a"].use(l["a"]);var X=new l["a"].Store({state:{csvData:null,headers:null,selectedHeader:null,chartOptions:{},chartData:null,chartType:null,chartCategories:null},getters:{getheaders:function(t){return t.headers}},mutations:{setCsvData:function(t,e){t.csvData=e},setHeaders:function(t,e){t.headers=e},setSelectedHeader:function(t,e){t.selectedHeader=e},setChartOptions:function(t,e){t.chartOptions=e},setChartData:function(t,e){t.chartData=e},setChartType:function(t,e){t.chartType=e},setChartCategories:function(t,e){t.chartCategories=e}},actions:{loadCsv:function(t,e){var a=this,r=new FileReader,n=e[0];r.onload=function(t){for(var e=t.target.result,r=e.split("\n"),n=[],s=r[0].split(","),c=1;c<r.length;c++){for(var o={},l=r[c].split(","),i=0;i<=s.length;i++)o[s[i]]=l[i];n.push(o)}var h=JSON.stringify(n);a.commit("setCsvData",JSON.parse(h)),a.commit("setHeaders",s),console.log(JSON.parse(h))},r.readAsText(n)},parseData:function(t,e){console.log("obj",e),e.val.length<=1?this.dispatch("parseSingleData",e):this.dispatch("parseDoubleData",e)},parseSingleData:function(t,e){for(var a=W.nest().key(function(t){return t[e.val[0]]}).rollup(function(t){return t.length}).entries(e.data),r=[],n=0;n<a.length;n++)"pie"===e.type?r.push({name:a[n].key,y:a[n].value}):r.push({name:a[n].key,data:[a[n].value]});console.log(r),this.chartReady=!0,this.commit("setChartData",r)},parseDoubleData:function(t,e){console.log("obj",e);var a=W.nest().key(function(t){return t[e.val[0]]}).key(function(t){return t[e.val[1]]}).rollup(function(t){return t.length}).entries(e.data);console.log("DATA",a);for(var r=[],n=[],s=0;s<a.length;s++){r.push({name:a[s].key,data:[]});for(var c=0;c<a[s].values.length;c++)0===s&&n.push(a[0].values[c].key),r[s].data.push(a[s].values[c].value)}console.log("arr",r),console.log("cat",n),this.chartReady=!0,this.commit("setChartData",r),this.commit("setChartCategories",n)},addHeader:function(t,e){this.commit("setSelectedHeader",e)},addChartOptions:function(t,e){this.commit("setChartOptions",e)},addChartType:function(t,e){this.commit("setChartType",e)}}}),Z=a("4452"),tt=a.n(Z),et=a("ea7f"),at=a.n(et),rt=a("37d8"),nt=a.n(rt);nt()(at.a),r["a"].config.productionTip=!1,r["a"].use(tt.a),new r["a"]({store:X,render:function(t){return t(Q)}}).$mount("#app")}});
//# sourceMappingURL=app.eabdf64a.js.map